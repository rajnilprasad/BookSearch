{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\BookSearch\\\\client\\\\src\\\\pages\\\\main\\\\index.js\";\nimport React, { Component } from 'react';\nimport Banner from '../../components/banner';\nimport CardContainer from '../../components/cardContainer';\nimport SearchBar from '../../components/searchBar';\nimport Api from '../../utils/api';\nimport BookTile from '../../components/bookTile';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Main)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search: \"\",\n      results: []\n    };\n\n    _this.handleImputChange = function (event) {\n      _this.setState({\n        search: event.target.value\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      Api.searchBooks(_this.state.search).then(function (res) {\n        _this.setState({\n          results: res.data.items\n        });\n\n        console.log(_this.state.results);\n      });\n    };\n\n    _this.handleBookSave = function (event) {\n      event.preventDefault(); // const index = this.event.target.index;\n\n      var index = parseInt(event.target.value);\n      var saved = _this.state.results[index];\n      console.log(saved);\n      var book = {\n        title: JSON.stringify(saved.volumeInfo.title).slice(1, -1),\n        author: JSON.stringify(saved.volumeInfo.authors).slice(1, -1),\n        image: JSON.stringify(saved.volumeInfo.imageLinks.smallThumbnail).slice(1, -1),\n        description: JSON.stringify(saved.volumeInfo.description).slice(1, -1),\n        link: JSON.stringify(saved.volumeInfo.infoLink).slice(1, -1)\n      };\n      console.log(book);\n      console.log(event.target);\n      Api.saveBooks(book).then(function (res) {\n        console.log(\"saved\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, null, React.createElement(Banner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(CardContainer, {\n        title: \"Book Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        handleImputChange: this.handleImputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(CardContainer, {\n        title: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.results.map(function (result, index) {\n        return React.createElement(BookTile, {\n          key: index,\n          status: \"search\",\n          title: result.volumeInfo.title,\n          author: result.volumeInfo.authors,\n          image: result.volumeInfo.imageLinks.smallThumbnail,\n          description: result.volumeInfo.description,\n          link: result.volumeInfo.infoLink,\n          handleBookSave: _this2.handleBookSave,\n          value: index,\n          index: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"sources":["C:\\Users\\rajni\\OneDrive\\Desktop\\BCS Notes\\Homework\\BookSearch\\client\\src\\pages\\main\\index.js"],"names":["React","Component","Banner","CardContainer","SearchBar","Api","BookTile","Main","state","search","results","handleImputChange","event","setState","target","value","handleFormSubmit","preventDefault","searchBooks","then","res","data","items","console","log","handleBookSave","index","parseInt","saved","book","title","JSON","stringify","volumeInfo","slice","author","authors","image","imageLinks","smallThumbnail","description","link","infoLink","saveBooks","map","result"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,QAAP,MAAqB,2BAArB;;IAEMC,I;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,OAAO,EAAE;AAFL,K;;UAKRC,iB,GAAoB,UAAAC,KAAK,EAAI;AACzB,YAAKC,QAAL,CAAc;AAAEJ,QAAAA,MAAM,EAAEG,KAAK,CAACE,MAAN,CAAaC;AAAvB,OAAd;AACH,K;;UAEDC,gB,GAAmB,UAAAJ,KAAK,EAAI;AACxBA,MAAAA,KAAK,CAACK,cAAN;AACAZ,MAAAA,GAAG,CAACa,WAAJ,CAAgB,MAAKV,KAAL,CAAWC,MAA3B,EACKU,IADL,CACU,UAAAC,GAAG,EAAI;AACT,cAAKP,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAEU,GAAG,CAACC,IAAJ,CAASC;AAApB,SAAd;;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKhB,KAAL,CAAWE,OAAvB;AACH,OAJL;AAMH,K;;UAEDe,c,GAAiB,UAAAb,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACK,cAAN,GADsB,CAEtB;;AAEA,UAAMS,KAAK,GAAGC,QAAQ,CAACf,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAtB;AACA,UAAMa,KAAK,GAAG,MAAKpB,KAAL,CAAWE,OAAX,CAAmBgB,KAAnB,CAAd;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AAIA,UAAMC,IAAI,GAAG;AACTC,QAAAA,KAAK,EAAGC,IAAI,CAACC,SAAL,CAAeJ,KAAK,CAACK,UAAN,CAAiBH,KAAhC,CAAD,CAAyCI,KAAzC,CAA+C,CAA/C,EAAkD,CAAC,CAAnD,CADE;AAETC,QAAAA,MAAM,EAAGJ,IAAI,CAACC,SAAL,CAAeJ,KAAK,CAACK,UAAN,CAAiBG,OAAhC,CAAD,CAA2CF,KAA3C,CAAiD,CAAjD,EAAoD,CAAC,CAArD,CAFC;AAGTG,QAAAA,KAAK,EAAGN,IAAI,CAACC,SAAL,CAAeJ,KAAK,CAACK,UAAN,CAAiBK,UAAjB,CAA4BC,cAA3C,CAAD,CAA6DL,KAA7D,CAAmE,CAAnE,EAAsE,CAAC,CAAvE,CAHE;AAITM,QAAAA,WAAW,EAAGT,IAAI,CAACC,SAAL,CAAeJ,KAAK,CAACK,UAAN,CAAiBO,WAAhC,CAAD,CAA+CN,KAA/C,CAAqD,CAArD,EAAwD,CAAC,CAAzD,CAJJ;AAKTO,QAAAA,IAAI,EAAGV,IAAI,CAACC,SAAL,CAAeJ,KAAK,CAACK,UAAN,CAAiBS,QAAhC,CAAD,CAA4CR,KAA5C,CAAkD,CAAlD,EAAqD,CAAC,CAAtD;AALG,OAAb;AAOAX,MAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACE,MAAlB;AAEAT,MAAAA,GAAG,CAACsC,SAAJ,CAAcd,IAAd,EACKV,IADL,CACU,UAAAC,GAAG,EAAI;AACTG,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH,OAHL;AAOH,K;;;;;;;6BAEQ;AAAA;;AACL,aACI,0CACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAC,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAW,QAAA,iBAAiB,EAAE,KAAKb,iBAAnC;AAAsD,QAAA,gBAAgB,EAAE,KAAKK,gBAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,EAKI,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAC,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKR,KAAL,CAAWE,OAAX,CAAmBkC,GAAnB,CAAuB,UAACC,MAAD,EAASnB,KAAT;AAAA,eACpB,oBAAC,QAAD;AACI,UAAA,GAAG,EAAEA,KADT;AAEI,UAAA,MAAM,EAAC,QAFX;AAGI,UAAA,KAAK,EAAEmB,MAAM,CAACZ,UAAP,CAAkBH,KAH7B;AAII,UAAA,MAAM,EAAEe,MAAM,CAACZ,UAAP,CAAkBG,OAJ9B;AAKI,UAAA,KAAK,EAAES,MAAM,CAACZ,UAAP,CAAkBK,UAAlB,CAA6BC,cALxC;AAMI,UAAA,WAAW,EAAEM,MAAM,CAACZ,UAAP,CAAkBO,WANnC;AAOI,UAAA,IAAI,EAAEK,MAAM,CAACZ,UAAP,CAAkBS,QAP5B;AAQI,UAAA,cAAc,EAAE,MAAI,CAACjB,cARzB;AASI,UAAA,KAAK,EAAEC,KATX;AAUI,UAAA,KAAK,EAAEA,KAVX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADoB;AAAA,OAAvB,CADL,CALJ,CADJ;AAyBH;;;;EA3EczB,S;;AA8EnB,eAAeM,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport Banner from '../../components/banner';\nimport CardContainer from '../../components/cardContainer';\nimport SearchBar from '../../components/searchBar';\nimport Api from '../../utils/api';\nimport BookTile from '../../components/bookTile';\n\nclass Main extends Component {\n    state = {\n        search: \"\",\n        results: []\n    }\n\n    handleImputChange = event => {\n        this.setState({ search: event.target.value });\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        Api.searchBooks(this.state.search)\n            .then(res => {\n                this.setState({ results: res.data.items });\n                console.log(this.state.results);\n            })\n\n    }\n\n    handleBookSave = event => {\n        event.preventDefault();\n        // const index = this.event.target.index;\n\n        const index = parseInt(event.target.value);\n        const saved = this.state.results[index];\n        console.log(saved);\n\n\n\n        const book = {\n            title: (JSON.stringify(saved.volumeInfo.title)).slice(1, -1),\n            author: (JSON.stringify(saved.volumeInfo.authors)).slice(1, -1),\n            image: (JSON.stringify(saved.volumeInfo.imageLinks.smallThumbnail)).slice(1, -1),\n            description: (JSON.stringify(saved.volumeInfo.description)).slice(1, -1),\n            link: (JSON.stringify(saved.volumeInfo.infoLink)).slice(1, -1)\n        }\n        console.log(book);\n        console.log(event.target);\n\n        Api.saveBooks(book)\n            .then(res => {\n                console.log(\"saved\");\n            })\n\n\n\n    }\n\n    render() {\n        return (\n            <>\n                <Banner />\n                <CardContainer title=\"Book Search\">\n                    <SearchBar handleImputChange={this.handleImputChange} handleFormSubmit={this.handleFormSubmit} />\n                </CardContainer>\n                <CardContainer title=\"Results\">\n                    {this.state.results.map((result, index) => (\n                        <BookTile\n                            key={index}\n                            status=\"search\"\n                            title={result.volumeInfo.title}\n                            author={result.volumeInfo.authors}\n                            image={result.volumeInfo.imageLinks.smallThumbnail}\n                            description={result.volumeInfo.description}\n                            link={result.volumeInfo.infoLink}\n                            handleBookSave={this.handleBookSave}\n                            value={index}\n                            index={index}\n                        />\n                    )\n                    )}\n                </CardContainer>\n            </>\n        )\n    }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}